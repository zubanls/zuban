[case method_simple_semantic_tokens_typed]
# type: ignore
#? semantic-tokens

class C:
    def method(self) -> None:
        self.method
        self.method()

C.method
C.method()
C().method
C().method()

[out]
Semantic tokens for full range
- 4:6:C -> class:definition,declaration
- 5:8:method -> function:definition,declaration
- 5:15:self -> variable:definition
- 6:8:self -> variable:none
- 6:13:method -> function:none
- 7:8:self -> variable:none
- 7:13:method -> function:none
- 9:0:C -> class:none
- 9:2:method -> function:none
- 10:0:C -> class:none
- 10:2:method -> function:none
- 11:0:C -> class:none
- 11:4:method -> function:none
- 12:0:C -> class:none
- 12:4:method -> function:none

[case method_simple_semantic_tokens_untyped_no_mypy_compatible]
# type: ignore
# flags: --no-mypy-compatible
#? semantic-tokens

class C:
    def method(self):
        self.method
        self.method()

C.method
C.method()
C().method
C().method()

[out]
Semantic tokens for full range
- 5:6:C -> class:definition,declaration
- 6:8:method -> function:definition,declaration
- 6:15:self -> variable:definition
- 7:8:self -> variable:none
- 7:13:method -> function:none
- 8:8:self -> variable:none
- 8:13:method -> function:none
- 10:0:C -> class:none
- 10:2:method -> function:none
- 11:0:C -> class:none
- 11:2:method -> function:none
- 12:0:C -> class:none
- 12:4:method -> function:none
- 13:0:C -> class:none
- 13:4:method -> function:none

[case method_simple_semantic_tokens_untyped_mypy_compatible]
# type: ignore
# flags: --mypy-compatible
#? semantic-tokens

class C:
    def method(self):
        self.method
        self.method()

C.method
C.method()
C().method
C().method()

[out]
Semantic tokens for full range
- 5:6:C -> class:definition,declaration
- 6:8:method -> function:definition,declaration
- 6:15:self -> variable:definition
- 7:8:self -> variable:none
- 8:8:self -> variable:none
- 10:0:C -> class:none
- 10:2:method -> function:none
- 11:0:C -> class:none
- 11:2:method -> function:none
- 12:0:C -> class:none
- 12:4:method -> function:none
- 13:0:C -> class:none
- 13:4:method -> function:none

[case self_attr_simple_semantic_tokens_typed]
# type: ignore
#? semantic-tokens

class C:
    def method(self) -> None:
        self.attr = 1
        self.attr
        self.attr()
        self.declared_attr: int = 1
        self.declared_attr

C.attr
C.declared_attr
C().attr
C().declared_attr

[out]
Semantic tokens for full range
- 4:6:C -> class:definition,declaration
- 5:8:method -> function:definition,declaration
- 5:15:self -> variable:definition
- 6:8:self -> variable:none
- 6:13:attr -> variable:definition
- 7:8:self -> variable:none
- 7:13:attr -> variable:none
- 8:8:self -> variable:none
- 8:13:attr -> variable:none
- 9:8:self -> variable:none
- 9:13:declared_attr -> variable:definition
- 9:28:int -> class:none
- 10:8:self -> variable:none
- 10:13:declared_attr -> variable:none
- 12:0:C -> class:none
- 13:0:C -> class:none
- 14:0:C -> class:none
- 14:4:attr -> variable:none
- 15:0:C -> class:none
- 15:4:declared_attr -> variable:none

[case typing_module_semantic_tokens]
#? semantic-tokens
import typing
from typing import Optional, Any, ParamSpec

P = ParamSpec('P')
typing.Callable[P, None]
zz: Optional[Any]

[out]
Semantic tokens for full range
- 2:7:typing -> namespace:definition,declaration
- 3:19:Optional -> class:definition,declaration
- 3:29:Any -> class:definition,declaration
- 3:34:ParamSpec -> class:definition,declaration
- 5:4:ParamSpec -> class:none
- 6:0:typing -> namespace:none
- 6:7:Callable -> class:none
- 7:0:zz -> variable:definition,declaration
- 7:4:Optional -> class:none
- 7:13:Any -> class:none

[case partial_semantic_tokens]
#? semantic-tokens
x = None
x = 1
y = None

[out]
Semantic tokens for full range
- 2:0:x -> variable:definition
- 4:0:y -> variable:definition
