[case simple_references]
#? --codepoint-column 19 references
with open("x") as x:
    x.read()

[out]
__main__.py:2:references -> __main__.py:2:18; __main__.py:3:4

[case simple_references_no_declarations]
#? --codepoint-column 19 references --no-include-declarations
with open("x") as x:
    x.read()

[out]
__main__.py:2:references -> __main__.py:3:4

[case file_references_import_name]
#? references
import foo

[file foo.py]
[file foo.pyi]

[out]
__main__.py:2:references -> foo.py:1:0; foo.pyi:1:0; __main__.py:2:7

[case file_references_no_declarations]
#? references --no-include-declarations
import foo

[file foo.py]

[out]
__main__.py:2:references -> __main__.py:2:7

[case file_references_import_from1]
#? references
from bar import foo

[file bar/foo.py]
[file bar/foo.pyi]

[out]
__main__.py:2:references -> bar/foo.py:1:0; bar/foo.pyi:1:0; __main__.py:2:16

[case file_references_import_from2]
#? --codepoint-column 5 references
from bar import foo

[file bar/__init__.py]
[file bar/foo.py]
[file bar/foo.pyi]

[out]
__main__.py:2:references -> bar/__init__.py:1:0; __main__.py:2:5

[case builtin_usages_check_workspace]
#? references
str
[out]
__main__.py:2:references -> builtins.pyi:476:6; __main__.py:2:0

[case builtin_usages_only_check_file]
#? references --only-check-file
str
[out]
__main__.py:2:references -> __main__.py:2:0

[case enum_member_usages]
from typing import Literal
from enum import Enum

class E(Enum):
    #? --codepoint-column 4 references
    X = "X"
    Y = "Y"

#? references
E.X

#? --codepoint-column 20 references
def f(x: Literal[E.X]): ...

[out]
__main__.py:6:references -> __main__.py:6:4; __main__.py:10:2; __main__.py:13:19
__main__.py:10:references -> __main__.py:6:4; __main__.py:10:2; __main__.py:13:19
__main__.py:13:references -> __main__.py:6:4; __main__.py:10:2; __main__.py:13:19
