[case folding_ranges_basic_without_imports]
#? folding-ranges

def f(x):
    str(x + 1)

    str(x + 1)  # asdf
    #

# 
str

[out]
__main__.py:2: Folding Ranges:
- 3:0-6:22 Region

[case folding_ranges_basic_with_imports]
#? folding-ranges

import typing

from typing import Protocol

try:
    import types
except ImportError: ...

def f(x):
    if bool():
        str(x + 1)
str
import typing
import types

[out]
__main__.py:2: Folding Ranges:
- 1:0-5:27 Imports
- 7:0-8:16 Region
- 11:0-13:18 Region
- 12:4-13:18 Region

[case folding_ranges_basic_syntax_blocks]
#? folding-ranges

class X:
    def f(self, something):
        import typing
        if bool():
            str
        elif something: ...
        elif bool(something):
            ...
        else:
            ...
            ...
        for x in something:
            x
        for x in something:
            x
        else:
            ...
        while something:
            something
        while something:
            something
        else:
            ...
        with something:
            ...
[out]
__main__.py:2: Folding Ranges:
- 3:0-27:15 Region
- 4:4-27:15 Region
- 6:8-7:15 Region
- 9:8-10:15 Region
- 11:8-13:15 Region
- 14:8-15:13 Region
- 16:8-17:13 Region
- 18:8-19:15 Region
- 20:8-21:21 Region
- 22:8-23:21 Region
- 24:8-25:15 Region
- 26:8-27:15 Region

[case folding_ranges_async]
#? folding-ranges
async def foo(something):
    await bar()
    async for x in something:
        x()
    async for x in something:
        x()
    else:
        print(something)

    async with (
        something as bar,
        something.foo
    ):
        bar.lala

@foo
async def bar():
    ...

[out]
__main__.py:2: Folding Ranges:
- 2:0-16:0 Region
- 4:4-5:11 Region
- 6:4-7:11 Region
- 8:4-9:24 Region
- 11:4-15:16 Region
- 18:0-19:7 Region
